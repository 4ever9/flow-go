

# clusters
`import "github.com/dapperlabs/flow-go/internal/roles/collect/clusters"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package clusters implements the logic required to compute and validate access node clusters.




## <a name="pkg-index">Index</a>
* [type Cluster](#Cluster)
  * [func (c *Cluster) Hash() crypto.Hash](#Cluster.Hash)
* [type ClusterManager](#ClusterManager)
  * [func (c *ClusterManager) GetCluster(address types.Address, epoch uint64) (*Cluster, error)](#ClusterManager.GetCluster)
  * [func (c *ClusterManager) GetClusters(epoch uint64) ([]*Cluster, error)](#ClusterManager.GetClusters)


#### <a name="pkg-files">Package files</a>
[clusters.go](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go)






## <a name="Cluster">type</a> [Cluster](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go?s=255:315#L10)
``` go
type Cluster struct {
    Index uint64
    Nodes []types.Address
}

```
Cluster is a grouping of access nodes.










### <a name="Cluster.Hash">func</a> (\*Cluster) [Hash](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go?s=363:399#L16)
``` go
func (c *Cluster) Hash() crypto.Hash
```
Hash returns the unique hash of a cluster.




## <a name="ClusterManager">type</a> [ClusterManager](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go?s=779:807#L26)
``` go
type ClusterManager struct{}

```
ClusterManager is a utility to compute cluster arrangements.

Clusters are computed using the following algorithm:
1. For each staked node, compute the bitwise XOR between the node address and the epoch root hash.
2. Sort all nodes by the result of the XOR.
3. Split the list into N equal sized chunks, where N is the target number of clusters.










### <a name="ClusterManager.GetCluster">func</a> (\*ClusterManager) [GetCluster](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go?s=875:965#L29)
``` go
func (c *ClusterManager) GetCluster(address types.Address, epoch uint64) (*Cluster, error)
```
GetCluster returns the cluster that the given node belongs to.




### <a name="ClusterManager.GetClusters">func</a> (\*ClusterManager) [GetClusters](https://github.com/dapperlabs/flow-go/tree/master/internal/roles/collect/clusters/clusters.go?s=1043:1113#L34)
``` go
func (c *ClusterManager) GetClusters(epoch uint64) ([]*Cluster, error)
```
GetClusters returns all clusters for a given epoch.








- - -
Generated by [godoc2md](http://godoc.org/github.com/lanre-ade/godoc2md)
