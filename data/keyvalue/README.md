

# keyvalue
`import "github.com/dapperlabs/bamboo-node/data/keyvalue"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>
Package keyvalue provides an abstract interface for connecting to DBs and building/executing key-value queries on them.




## <a name="pkg-index">Index</a>
* [type DBConnector](#DBConnector)
  * [func NewPostgresDB(addr, user, password, dbname string) DBConnector](#NewPostgresDB)
* [type PostgresDB](#PostgresDB)
  * [func (d *PostgresDB) MigrateDown() error](#PostgresDB.MigrateDown)
  * [func (d *PostgresDB) MigrateUp() error](#PostgresDB.MigrateUp)
  * [func (d *PostgresDB) NewQuery() QueryBuilder](#PostgresDB.NewQuery)
* [type QueryBuilder](#QueryBuilder)


#### <a name="pkg-files">Package files</a>
[interface.go](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/interface.go) [pg_connection.go](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go) [pg_query.go](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_query.go)






## <a name="DBConnector">type</a> [DBConnector](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/interface.go?s=182:277#L5)
``` go
type DBConnector interface {
    NewQuery() QueryBuilder
    MigrateUp() error
    MigrateDown() error
}
```
DBConnector abstracts a db connection







### <a name="NewPostgresDB">func</a> [NewPostgresDB](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go?s=168:235#L16)
``` go
func NewPostgresDB(addr, user, password, dbname string) DBConnector
```
NewPostgresDB ..





## <a name="PostgresDB">type</a> [PostgresDB](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go?s=109:146#L11)
``` go
type PostgresDB struct {
    // contains filtered or unexported fields
}

```
PostgresDB ..










### <a name="PostgresDB.MigrateDown">func</a> (\*PostgresDB) [MigrateDown](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go?s=608:648#L43)
``` go
func (d *PostgresDB) MigrateDown() error
```
MigrateDown ..




### <a name="PostgresDB.MigrateUp">func</a> (\*PostgresDB) [MigrateUp](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go?s=522:560#L38)
``` go
func (d *PostgresDB) MigrateUp() error
```
MigrateUp ..




### <a name="PostgresDB.NewQuery">func</a> (\*PostgresDB) [NewQuery](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/pg_connection.go?s=426:470#L33)
``` go
func (d *PostgresDB) NewQuery() QueryBuilder
```
NewQuery ..




## <a name="QueryBuilder">type</a> [QueryBuilder](https://github.com/dapperlabs/bamboo-node/tree/master/data/keyvalue/interface.go?s=585:1191#L26)
``` go
type QueryBuilder interface {
    // InTransaction sets a query to run in a multi statement transaction
    InTransaction() QueryBuilder
    // AddGet adds a get statement
    AddGet(namespace string) QueryBuilder
    // AddSet adds a set statement
    AddSet(namespace string) QueryBuilder
    // AddDelete adds a delete statement
    AddDelete(namespace string) QueryBuilder
    // MustBuild is intended to be called once per query on server startup for performance considerations of some providers.
    MustBuild() QueryBuilder
    // Execute runs the query and returns its result
    Execute(params ...string) (result string, err error)
}
```
QueryBuilder builds a key value query and allow
For exmaple:
```go


	  dbConn := NewPostgresDB(options...)
	
	  setFooAndBar := dbConn.NewQuery().
		  AddSet("foo_collection").
		  AddSet("bar_collection").
		  InTransaction().
		  MustBuild()
	
	  setFooAndBar.Execute("key1", "value1", "key2", "value2")

```














- - -
Generated by [godoc2md](http://godoc.org/github.com/lanre-ade/godoc2md)
