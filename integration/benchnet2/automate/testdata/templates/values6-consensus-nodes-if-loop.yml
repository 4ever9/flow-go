# from https://github.com/onflow/flow-go/blob/fa60c8f96b4a22f0f252c4b82a5dc4bbf54128c1/integration/localnet/values.yml
branch: fake-branch
# Commit must be a string
commit: "123456"

defaults: {}
access:
  defaults:
    imagePullPolicy: Always
    containerPorts:
      - name: ptp
        containerPort: 3569
      - name: grpc
        containerPort: 9000
      - name: secure-grpc
        containerPort: 9001
      - name: admin
        containerPort: 9002
    env: []
    resources:
      requests:
        cpu: "200m"
        memory: "128Mi"
      limits:
        cpu: "800m"
        memory: "10Gi"
    servicePorts:
      - name: ptp
        protocol: TCP
        port: 3569
        targetPort: ptp
      - name: grpc
        protocol: TCP
        port: 9000
        targetPort: grpc
      - name: secure-grpc
        protocol: TCP
        port: 9001
        targetPort: secure-grpc
      - name: admin
        protocol: TCP
        port: 9002
        targetPort: admin
    storage: 1G
  nodes:
{{range $val := .}}{{if eq ($val.group) ("access")}}
    {{$val.name}}:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=INFO
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --bind=0.0.0.0:3569
        - --nodeid={{$val.node_id}}
        - --rpc-addr=0.0.0.0:9000
        - --secure-rpc-addr=0.0.0.0:9001
        - --http-addr=0.0.0.0:8000
        - --collection-ingress-port=9000
        - --supports-observer=true
        - --public-network-address=0.0.0.0:1234
        - --log-tx-time-to-finalized
        - --log-tx-time-to-executed
        - --log-tx-time-to-finalized-executed
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/access:v0.27.6
      nodeId: {{$val.node_id}}
{{end}}{{end}}
collection:
  defaults:
    imagePullPolicy: Always
    containerPorts:
      - name: ptp
        containerPort: 3569
      - name: grpc
        containerPort: 9000
      - name: secure-grpc
        containerPort: 9001
      - name: admin
        containerPort: 9002
    env: []
    resources:
      requests:
        cpu: "200m"
        memory: "128Mi"
      limits:
        cpu: "800m"
        memory: "10Gi"
    servicePorts:
      - name: ptp
        protocol: TCP
        port: 3569
        targetPort: ptp
      - name: grpc
        protocol: TCP
        port: 9000
        targetPort: grpc
      - name: secure-grpc
        protocol: TCP
        port: 9001
        targetPort: secure-grpc
      - name: admin
        protocol: TCP
        port: 9002
        targetPort: admin
    storage: 1G
  nodes:
{{range $val := .}}{{if eq ($val.group) ("collection")}}
    {{$val.name}}:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=INFO
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --bind=0.0.0.0:3569
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --nodeid={{$val.node_id}}
        - --block-rate-delay=950ms
        - --hotstuff-timeout=2.15s
        - --hotstuff-min-timeout=2.15s
        - --ingress-addr=0.0.0.0:9000
        - --insecure-access-api=false
        - --access-node-ids=*
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/collection:v0.27.6
      nodeId: {{$val.node_id}}
{{end}}{{end}}
consensus:
  defaults:
    imagePullPolicy: Always
    containerPorts:
      - name: ptp
        containerPort: 3569
      - name: grpc
        containerPort: 9000
      - name: secure-grpc
        containerPort: 9001
      - name: admin
        containerPort: 9002
    env: []
    resources:
      requests:
        cpu: "200m"
        memory: "128Mi"
      limits:
        cpu: "800m"
        memory: "10Gi"
    servicePorts:
      - name: ptp
        protocol: TCP
        port: 3569
        targetPort: ptp
      - name: grpc
        protocol: TCP
        port: 9000
        targetPort: grpc
      - name: secure-grpc
        protocol: TCP
        port: 9001
        targetPort: secure-grpc
      - name: admin
        protocol: TCP
        port: 9002
        targetPort: admin
    storage: 1G
  nodes:
{{range $val := .}}{{if eq ($val.group) ("consensus")}}
    {{$val.name}}:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=DEBUG
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --bind=0.0.0.0:3569
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --nodeid={{$val.node_id}}
        - --block-rate-delay=800ms
        - --hotstuff-timeout=2s
        - --hotstuff-min-timeout=2s
        - --chunk-alpha=1
        - --emergency-sealing-active=false
        - --insecure-access-api=false
        - --access-node-ids=*
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/consensus:v0.27.6
      nodeId: {{$val.node_id}}
{{end}}{{end}}
execution:
  defaults:
    imagePullPolicy: Always
    containerPorts:
      - name: ptp
        containerPort: 3569
      - name: grpc
        containerPort: 9000
      - name: secure-grpc
        containerPort: 9001
      - name: admin
        containerPort: 9002
    env: []
    resources:
      requests:
        cpu: "200m"
        memory: "512Mi"
    servicePorts:
      - name: ptp
        protocol: TCP
        port: 3569
        targetPort: ptp
      - name: grpc
        protocol: TCP
        port: 9000
        targetPort: grpc
      - name: secure-grpc
        protocol: TCP
        port: 9001
        targetPort: secure-grpc
      - name: admin
        protocol: TCP
        port: 9002
        targetPort: admin
    storage: 10G
  nodes:
    execution1:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=INFO
        - --bind=0.0.0.0:3569
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --nodeid=4a6f73682048616e6e616e00a963fb7050b300c024526eee06767b237ccf5349
        - --triedir=/trie
        - --rpc-addr=0.0.0.0:9000
        - --cadence-tracing=false
        - --extensive-tracing=false
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/execution:v0.27.6
      nodeId: 4a6f73682048616e6e616e00a963fb7050b300c024526eee06767b237ccf5349
    execution2:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=INFO
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --bind=0.0.0.0:3569
        - --nodeid=4b616e205a68616e670075d983e43cd61f1136cda8c8c48887b5654dcfb2db59
        - --triedir=/trie
        - --rpc-addr=0.0.0.0:9000
        - --cadence-tracing=false
        - --extensive-tracing=false
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/execution:v0.27.6
      nodeId: 4b616e205a68616e670075d983e43cd61f1136cda8c8c48887b5654dcfb2db59
verification:
  defaults:
    imagePullPolicy: Always
    containerPorts:
      - name: ptp
        containerPort: 3569
      - name: grpc
        containerPort: 9000
      - name: secure-grpc
        containerPort: 9001
      - name: admin
        containerPort: 9002
    env: []
    resources:
      requests:
        cpu: "200m"
        memory: "512Mi"
      limits:
        cpu: "800m"
        memory: "10Gi"
    servicePorts:
      - name: ptp
        protocol: TCP
        port: 3569
        targetPort: ptp
      - name: grpc
        protocol: TCP
        port: 9000
        targetPort: grpc
      - name: secure-grpc
        protocol: TCP
        port: 9001
        targetPort: secure-grpc
      - name: admin
        protocol: TCP
        port: 9002
        targetPort: admin
    storage: 1G
  nodes:
    verification1:
      args:
        - --bootstrapdir=/bootstrap
        - --datadir=/data/protocol
        - --secretsdir=/data/secret
        - --loglevel=INFO
        - --bind=0.0.0.0:3569
        - --profiler-enabled=false
        - --profile-uploader-enabled=false
        - --tracer-enabled=false
        - --profiler-dir=/profiler
        - --profiler-interval=2m
        - --nodeid=4c61796e65204c616672616e636500d8948997c9da4f49de7c997ebcdd44d55e
        - --chunk-alpha=1
      env:
        - name: OTEL_EXPORTER_OTLP_TRACES_ENDPOINT
          value: http://tempo:4317
        - name: OTEL_EXPORTER_OTLP_TRACES_INSECURE
          value: "true"
        - name: OTEL_RESOURCE_ATTRIBUTES
          value: network
        - name: BINSTAT_ENABLE
          value: ""
        - name: BINSTAT_LEN_WHAT
          value: ""
        - name: BINSTAT_DMP_NAME
          value: ""
        - name: BINSTAT_DMP_PATH
          value: ""
      image: gcr.io/flow-container-registry/verification:v0.27.6
      nodeId: 4c61796e65204c616672616e636500d8948997c9da4f49de7c997ebcdd44d55e
